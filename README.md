# SQL Запросы для Анализа Данных

## Описание проекта

Этот проект содержит набор SQL-запросов для работы с различными базами данных, демонстрирующих решение практических задач из разных предметных областей. Каждый запрос решает конкретную аналитическую задачу с использованием продвинутых возможностей SQL.

### Цели проекта:

- Демонстрация навыков работы с SQL
- Решение комплексных аналитических задач
- Оптимизация запросов для работы с большими наборами данных
- Использование продвинутых функций PostgreSQL

## Основные задачи:

- Рекурсивные запросы для работы с иерархическими данными
- Агрегация и статистический анализ
- Работа с временными данными
- Оптимизация производительности запросов

## Структура баз данных

### База данных 1: Транспортные средства (`Задание1.txt`)

- `Vehicle`: Производители и модели транспортных средств
- `Car`: Характеристики автомобилей
- `Motorcycle`: Характеристики мотоциклов
- `Bicycle`: Характеристики велосипедов

### База данных 2: Автогонки (`Задание2.txt`)

- `Classes`: Классы автомобилей
- `Cars`: Информация об автомобилях
- `Races`: Информация о гонках
- `Results`: Результаты гонок

### База данных 3: Бронирование отелей (`Задание3.txt`)

- `Hotel`: Информация об отелях
- `Room`: Информация о номерах
- `Customer`: Данные клиентов
- `Booking`: Информация о бронированиях

### База данных 4: Управление персоналом (`Задание4.txt`)

- `Departments`: Отделы компании
- `Roles`: Роли сотрудников
- `Employees`: Сотрудники
- `Projects`: Проекты компании
- `Tasks`: Задачи по проектам

## Основные функции

### Рекурсивные запросы:

- Построение иерархии подчинения
- Анализ многоуровневых структур
- Расчет агрегированных показателей по иерархии

### Статистический анализ:

- Расчет средних значений
- Определение минимальных/максимальных показателей
- Анализ распределения данных

### Агрегация данных:

- Группировка и суммирование
- Конкатенация строковых значений
- Условная агрегация

### Работа с временными данными:

- Расчет длительности периодов
- Анализ временных интервалов
- Фильтрация по датам

## Инструкции по запуску

### Требования

- PostgreSQL 12+
- Любой клиент для работы с БД (pgAdmin, DBeaver и т.д.)

### Запуск проекта

1. Создайте новую базу данных в PostgreSQL
2. Для каждой предметной области:
   - Выполните SQL-скрипт создания таблиц (из `ЗаданиеX.txt`)
   - Выполните команды вставки тестовых данных
3. Для выполнения запросов:
   - Откройте соответствующий файл запроса (`taskX_Y.sql`)
   - Выполните запрос в клиенте БД
